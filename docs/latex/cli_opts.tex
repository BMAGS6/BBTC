\chapter{Command-\/\+Line Interface (CLI)}
\hypertarget{cli_opts}{}\label{cli_opts}\index{Command-\/Line Interface (CLI)@{Command-\/Line Interface (CLI)}}
\hypertarget{cli_opts_cli_overview}{}\doxysection{\texorpdfstring{Overview}{Overview}}\label{cli_opts_cli_overview}
This page documents the command-\/line interface (CLI) for BBTC, the Ballistic Trajectory Calculator. All user input is passed via command-\/line arguments and parsed into the {\ttfamily \doxylink{structCLI__inputs}{CLI\+\_\+inputs}} structure defined in \doxylink{cli__opts_8h}{cli\+\_\+opts.\+h}.

Internally, argument parsing is handled with {\ttfamily getopt\+\_\+long()}, supporting both short {\ttfamily -\/x} and long {\ttfamily -\/-\/option} style flags. Invalid options trigger a usage printout and immediate exit.

\DoxyHorRuler{0}
\hypertarget{cli_opts_cli_usage}{}\doxysection{\texorpdfstring{Usage Syntax}{Usage Syntax}}\label{cli_opts_cli_usage}

\begin{DoxyCode}{0}
\DoxyCodeLine{./bbtc\ [OPTIONS...]}

\end{DoxyCode}
\hypertarget{cli_opts_cli_flags}{}\doxysubsection{\texorpdfstring{Supported Options}{Supported Options}}\label{cli_opts_cli_flags}
The following options are implemented and parsed directly by {\ttfamily \doxylink{group__CLI__Parsing_gacdd3189c1d563aede4bf528077cbb76c}{parse\+\_\+options()}}\+:

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{4}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Short   }&\cellcolor{\tableheadbgcolor}\textbf{ Long Option   }&\cellcolor{\tableheadbgcolor}\textbf{ Argument   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-4}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Short   }&\cellcolor{\tableheadbgcolor}\textbf{ Long Option   }&\cellcolor{\tableheadbgcolor}\textbf{ Argument   }&\cellcolor{\tableheadbgcolor}\textbf{ Description    }\\\cline{1-4}
\endhead
\PBS\centering {\ttfamily -\/m}   &{\ttfamily -\/-\/magnus}   &\texorpdfstring{$\ast$}{*}(none)\texorpdfstring{$\ast$}{*}   &Enable Magnus effect modeling    \\\cline{1-4}
\PBS\centering {\ttfamily -\/c}   &{\ttfamily -\/-\/coriolis}   &\texorpdfstring{$\ast$}{*}(none)\texorpdfstring{$\ast$}{*}   &Enable Coriolis force modeling    \\\cline{1-4}
\PBS\centering {\ttfamily -\/e}   &{\ttfamily -\/-\/eotvos}   &\texorpdfstring{$\ast$}{*}(none)\texorpdfstring{$\ast$}{*}   &Enable Eötvös effect modeling    \\\cline{1-4}
\PBS\centering {\ttfamily -\/y}   &{\ttfamily -\/-\/yaw\+Repose}   &\texorpdfstring{$\ast$}{*}(none)\texorpdfstring{$\ast$}{*}   &Enable yaw-\/of-\/repose modeling    \\\cline{1-4}
\PBS\centering {\ttfamily -\/t}   &{\ttfamily -\/-\/tilt}   &\texorpdfstring{$\ast$}{*}(none)\texorpdfstring{$\ast$}{*}   &Enable tilt modeling    \\\cline{1-4}
\PBS\centering {\ttfamily -\/Y}   &{\ttfamily -\/-\/yaw\+Factor}   &{\ttfamily \texorpdfstring{$<$}{<}float\texorpdfstring{$>$}{>}}   &Set custom yaw scaling factor    \\\cline{1-4}
\PBS\centering {\ttfamily -\/T}   &{\ttfamily -\/-\/tilt\+Factor}   &{\ttfamily \texorpdfstring{$<$}{<}float\texorpdfstring{$>$}{>}}   &Set custom tilt scaling factor    \\\cline{1-4}
\PBS\centering {\ttfamily -\/M}   &{\ttfamily -\/-\/mass}   &{\ttfamily \texorpdfstring{$<$}{<}kg\texorpdfstring{$>$}{>}}   &Set bullet mass in kilograms    \\\cline{1-4}
\PBS\centering {\ttfamily -\/v}   &{\ttfamily -\/-\/velocity}   &{\ttfamily \texorpdfstring{$<$}{<}m/s\texorpdfstring{$>$}{>}}   &Set muzzle velocity in meters per second    \\\cline{1-4}
\PBS\centering {\ttfamily -\/d}   &{\ttfamily -\/-\/diameter}   &{\ttfamily \texorpdfstring{$<$}{<}m\texorpdfstring{$>$}{>}}   &Set bullet diameter in meters    \\\cline{1-4}
\PBS\centering {\ttfamily -\/a}   &{\ttfamily -\/-\/angle}   &{\ttfamily \texorpdfstring{$<$}{<}deg\texorpdfstring{$>$}{>}}   &Set elevation angle above horizontal    \\\cline{1-4}
\PBS\centering {\ttfamily -\/D}   &{\ttfamily -\/-\/direction}   &{\ttfamily \texorpdfstring{$<$}{<}deg\texorpdfstring{$>$}{>}}   &Set azimuth angle in degrees (0 = North)    \\\cline{1-4}
\PBS\centering {\ttfamily -\/w}   &{\ttfamily -\/-\/twist\+Rate}   &{\ttfamily \texorpdfstring{$<$}{<}in\texorpdfstring{$>$}{>}}   &Set barrel twist rate in inches per turn    \\\cline{1-4}
\PBS\centering {\ttfamily -\/s}   &{\ttfamily -\/-\/time\+Step}   &{\ttfamily \texorpdfstring{$<$}{<}sec\texorpdfstring{$>$}{>}}   &Set simulation time step (seconds)    \\\cline{1-4}
\PBS\centering {\ttfamily -\/x}   &{\ttfamily -\/-\/shot\+Temp}   &{\ttfamily \texorpdfstring{$<$}{<}K\texorpdfstring{$>$}{>}}   &Set ambient temperature at muzzle in Kelvin    \\\cline{1-4}
\PBS\centering {\ttfamily -\/G}   &{\ttfamily -\/-\/drag\+Model}   &{\ttfamily \texorpdfstring{$<$}{<}string\texorpdfstring{$>$}{>}}   &Select drag model\+: G1, G2, G5, G6, G7, G8, GI, GL, RA4    \\\cline{1-4}
\PBS\centering {\ttfamily -\/L}   &{\ttfamily -\/-\/latitude}   &{\ttfamily \texorpdfstring{$<$}{<}deg\texorpdfstring{$>$}{>}}   &Set firing latitude in degrees    \\\cline{1-4}
\PBS\centering {\ttfamily -\/A}   &{\ttfamily -\/-\/altitude}   &{\ttfamily \texorpdfstring{$<$}{<}m\texorpdfstring{$>$}{>}}   &Set muzzle altitude above sea level in meters    \\\cline{1-4}
\PBS\centering {\ttfamily -\/h}   &{\ttfamily -\/-\/help}   &\texorpdfstring{$\ast$}{*}(none)\texorpdfstring{$\ast$}{*}   &Show usage information and exit   \\\cline{1-4}
\end{longtabu}


\DoxyHorRuler{0}
\hypertarget{cli_opts_cli_struct}{}\doxysection{\texorpdfstring{CLI\+\_\+inputs Structure}{CLI\_inputs Structure}}\label{cli_opts_cli_struct}
All parsed values are stored in a {\ttfamily \doxylink{structCLI__inputs}{CLI\+\_\+inputs}} structure\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{structSolverOptions}{SolverOptions}}\ options;\ \ \ \ \ \textcolor{comment}{//\ Solver\ feature\ flags\ (Magnus,\ etc.)}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{double}\ muzzleSpeed;\ \ \ \ \ \ \ \ \textcolor{comment}{//\ m/s}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{double}\ muzzleAngleDeg;\ \ \ \ \ \textcolor{comment}{//\ degrees}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{double}\ tiltFactor;\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ unitless}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{double}\ yawFactor;\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ unitless}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{double}\ diam;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ meters}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{double}\ shotAngle;\ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ unused}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{double}\ twistInches;\ \ \ \ \ \ \ \ \textcolor{comment}{//\ inches\ per\ rotation}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{double}\ timeStep;\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ seconds}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{double}\ azimuthDeg;\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ degrees}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{double}\ ambientTemp;\ \ \ \ \ \ \ \ \textcolor{comment}{//\ Kelvin}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{double}\ mass;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ kg}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{double}\ latitude;\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ degrees}}
\DoxyCodeLine{\ \ \ \ \textcolor{keywordtype}{double}\ altitude;\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ meters}}
\DoxyCodeLine{\ \ \ \ \mbox{\hyperlink{group__DragTableFunctions_ga326940386c828daadb8613c8eddf8d15}{DragModel}}\ dragModelChoice;\textcolor{comment}{//\ Enum\ (G1,\ G7,\ etc.)}}
\DoxyCodeLine{\}\ \mbox{\hyperlink{structCLI__inputs}{CLI\_inputs}};}

\end{DoxyCode}


\DoxyHorRuler{0}
\hypertarget{cli_opts_cli_defaults}{}\doxysection{\texorpdfstring{Default Values}{Default Values}}\label{cli_opts_cli_defaults}
These are initialized by {\ttfamily \doxylink{group__CLI__Parsing_ga464246c8023836fadaead439d71dc97d}{initialize\+\_\+\+CLI\+\_\+inputs()}}\+:

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Field   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Default    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Field   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Default    }\\\cline{1-2}
\endhead
muzzle\+Speed   &{\ttfamily 800.\+0}    \\\cline{1-2}
muzzle\+Angle\+Deg   &{\ttfamily 1.\+0}    \\\cline{1-2}
azimuth\+Deg   &{\ttfamily 90.\+0}    \\\cline{1-2}
time\+Step   &{\ttfamily 0.\+001}    \\\cline{1-2}
twist\+Inches   &{\ttfamily 7.\+0}    \\\cline{1-2}
diam   &{\ttfamily 0.\+00556}    \\\cline{1-2}
ambient\+Temp   &{\ttfamily 288.\+15}    \\\cline{1-2}
mass   &{\ttfamily 0.\+0065}    \\\cline{1-2}
drag\+Model\+Choice   &{\ttfamily G1}   \\\cline{1-2}
\end{longtabu}


\DoxyHorRuler{0}
\hypertarget{cli_opts_cli_example}{}\doxysection{\texorpdfstring{Example Command}{Example Command}}\label{cli_opts_cli_example}

\begin{DoxyCode}{0}
\DoxyCodeLine{./bbtc\ -\/mct\ -\/v\ 820\ -\/a\ 1.5\ -\/d\ 0.006\ -\/M\ 0.007\ -\/G\ \mbox{\hyperlink{group__DragTableFunctions_gga326940386c828daadb8613c8eddf8d15ae236ad64088ffc77d9e098628d5ba342}{G7}}\ -\/L\ 45.0\ -\/A\ 1000}

\end{DoxyCode}
 This enables Magnus, Coriolis, and tilt, sets bullet parameters and drag model to G7, and fires from 1000m elevation at latitude 45°. 